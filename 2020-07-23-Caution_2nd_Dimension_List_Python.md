# [파이썬] 2차원 리스트 사용시 주의사항

## 개요

2차원 리스트를 생성하는 방법에 따라서 각 원소들이 가리키는 주소가 달라질 수 있으므로 주의하여야 한다. 



<strong>아래 방법들은 원소 [-1, -1]를 5개 지닌 2차원 리스트를 만드는 과정이다.</strong>

### Way 1

```python
list1 = [[0, 0]] * 5
```

### Way 2  

```python
list2 = [[0, 0] for i in range(5)]
```





## 주소 확인

`id` 함수를 이용해서 리스트와 원소들의 주소를 확인해보자.

```python
print("Way 1")
print(id(list1))
for i in range(5):
    print(id(list1[i]))
    
print("Way 2")
print(id(list2))
for i in range(5):
    print(id(list2[i]))
```

<strong>결과</strong>

```python
Way 1
12455912
12478376
12617736
12617672
12617608
12617544
Way 2
12617864
12617800
12617800
12617800
12617800
12617800
```

위의 결과와 같이 첫 번째 방법은 원소 리스트들을 순차적으로 만들기 때문에 주소가 순차적인 반면, 두 번째 방법은 하나의 주소에 값만 바꿔주는 구조이기 때문에 모두 같은 주소를 가리킨다.





## 문제가 되는 상황 

두 번째 방법으로 만든 리스트에서 한 개의 원소 리스트만 바꾸고 싶을 때 아래 두 방법에 따라 결과가 달라진다.

```python
print("Check 1")
list2[0][0] = 1
list2[0][1] = 2
for i in list2:
    print(i)

print()
list2[0] = [5,5]
print("Check 2")
for i in list2:
    print(i)
```

<strong>결과</strong>

```python
Check 1
[1, 2]
[1, 2]
[1, 2]
[1, 2]
[1, 2]

Check 2
[5, 5]
[1, 2]
[1, 2]
[1, 2]
[1, 2]
```

위와 같이  원소 리스트의 원소를 직접 참조한 경우 모두 값이 바껴버린다. 그렇기 때문에 애초에 2차원 리스트를 만들 때 `Way 1` 같이 만들어야 한다.
